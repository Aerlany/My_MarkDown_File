## 一、操作系统的概念（定义）

操作系统（Operating System,	OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织和调度计算机的工作和资源的分配，以提供给用户和其它软件方便的接口和环境，是计算机系统中最基本的系统软件。

## 二、操作系统的功能和目标

### 系统资源的管理者（Resources Manager）

操作系统 ==> 硬件

1. 提供的功能
   - 处理机管理
   - 存储器管理
   - 文件管理
   - 设备管理
2. 目标：安全、高效

 **知识补充**：进程是一个程序的执行过程。执行前需要将该程序放入内存中，才能被CPU处理。

------

### 用户与计算机软件之间的接口（Control Program）

用户/应用程序 <== 操作系统

1. 提供的功能
   - 命令接口：允许用户直接使用
     - 交互式命令接口 （Time）
     - 批处理命令接口 （*.bat文件）
   - 程序接口：允许用户通过程序简介使用 （*.dll文件）
   - GUI：图形用户接口（图形化操作界面）
2. 目标：方便用户使用



**易混概念**：

1. 程序接口 = 系统调用 = 广义指令

------

###  最接近硬件的层次

提供的功能：实现对硬件机器的拓展

### 总结

![Screenshot from 2022-09-01 17-31-09](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-01 17-31-09.png)

## 三、操作系统的特征

![Screenshot from 2022-09-02 10-13-01](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-02 10-13-01.png)

### 并发

并发：指两个或多个事件在同一个时间间隔内发生。这些事件 *在宏观上是同时发生的*，但 *在微观上是交替发生的*

并行：指两个或多个事件在同一个时间发生。



操作系统的并发性：计算机系统中同时存在着多个运行着的程序

注：

*一个单核处理器（CPU）同一个时刻只能运行一个程序，因此操作系统会协调多个程序交替进行。*

*操作系统和程序并发是一起诞生的。*

*一个4核的处理器（CPU），说明同一时刻可以有4个程序 **并行执行***

------

### 共享

共享：指资源共享，指系统中的资源可供多个并发执行的进程同时使用。

- 互斥共享方式：系统中的资源虽然可供多个的进程使用，*但一个时间段只允许一个进程访问该资源*。

- 同时共享方式：系统中的某些资源，*允许在同一时间段内有多个进程 “同时” 进行访问*。

**“同时”**：是指宏观上的，而在微观上，这些进程是交替对该资源进行访问（即分时共享）



**注**：并发性和共享性互为存在关系

------

### 虚拟

虚拟：是指把一个物理上的实体变为若干个逻辑上的对应物。前者是实际存在的，后者是用户感觉到的。

- 空分复用技术：（如虚拟存储器技术）
- 时分复用技术：（如虚拟处理器）

**注**：没有并发性就没有虚拟性

------

### 异步

异步：在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底，而是走走停停（资源阻塞），以不可预知的速度进行。

### 总结

![Screenshot from 2022-09-02 11-14-10](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-02 11-14-10.png)

## 四、操作系统发展与分类

![Screenshot from 2022-09-02 14-40-33](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-02 14-40-33.png)

## 五、操作系统的运行机制与体系结构

![Screenshot from 2022-09-02 14-42-54](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-02 14-42-54.png)

### 运行机制

指令：处理器（CPU）能识别、能执行的最基本命令。

- 特权指令（不允许用户程序使用）
- 非特权指令（如加法指令）



处理器状态：用程序状态寄存器（PSW）中某个标志态来标识当前处理器状态。0为用户态、1为核心态

- 用户态（目态）（只可以执行非特权指令）
- 核心态（管态）（都可执行）



程序：

- 内核程序（系统的管理者，运行在核心态）
- 应用程序（运行在用户态）

------

### 操作系统内核

内核：是计算机上配置的底层软件，是操作系统最基本、最核心的部分。实现其功能的程序就是内核程序

![Screenshot from 2022-09-02 15-27-37](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-02 15-27-37.png)



### 体系结构

![Screenshot from 2022-09-12 20-20-43](/home/user/Documents/Operating Systems/Screenshot/Screenshot from 2022-09-12 20-20-43.png)



## 六、中断和异常

**中断的本质**：发生中断就意味着操作系统介入进行管理工作

中断的概念和作用：

1. 当中断发生时，CPU立即进入**核心态**
2. 当中断发生时，当前运行的进程暂停运行，并由操作系统进行中断处理
3. 不同的中断信号，会进行不同处理























